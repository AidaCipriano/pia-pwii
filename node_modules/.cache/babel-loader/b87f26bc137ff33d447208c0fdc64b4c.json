{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Downloads\\\\PWII\\\\PWII-PROYECTOFINAL\\\\PWII-PROYECTOFINAL\\\\PWII\\\\pia-pwii\\\\src\\\\pages\\\\MiPerfil.jsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport Container from 'react-bootstrap/Container';\nimport Navigation from '../Components/NavigationLayout';\nimport './Test.css';\nimport { db } from \"../firebase\";\nimport { v4 as uuid } from \"uuid\";\nimport { collection, query, where, getDocs, serverTimestamp, updateDoc, Timestamp } from \"firebase/firestore\";\nimport { arrayUnion, arrayRemove, getDoc } from \"firebase/firestore\";\nimport { doc, onSnapshot } from \"firebase/firestore\";\nimport { ChatConext } from \"../Context/ChatContext\";\nimport { useState, useEffect } from \"react\";\nimport { ref, uploadBytes, getDownloadURL, listAll, list } from \"firebase/storage\";\nimport { storage } from \"../firebase\";\nimport { v4 } from \"uuid\";\nimport { useContext } from \"react\";\nimport { Form } from 'react-bootstrap';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst MiPerfil = () => {\n  _s();\n\n  const [imageUpload, setImageUpload] = useState(null);\n  const [imageUrls, setImageUrls] = useState([]);\n  const {\n    data\n  } = useContext(ChatConext);\n  const imagesListRef = ref(storage, \"images/\");\n\n  const uploadFile = () => {\n    if (imageUpload == null) return;\n    const imageRef = ref(storage, `images/${imageUpload.name + v4()}`);\n    uploadBytes(imageRef, imageUpload).then(snapshot => {\n      getDownloadURL(snapshot.ref).then(url => {\n        setImageUrls(prev => [...prev, url]);\n      });\n    });\n  };\n\n  useEffect(() => {\n    listAll(imagesListRef).then(response => {\n      response.items.forEach(item => {\n        getDownloadURL(item).then(url => {\n          setImageUrls(prev => [...prev, url]);\n        });\n      });\n    });\n  }, []);\n  let urlImDesc; //const nombre = e.target.nombre.value;\n  //const precio = target.precio.value;\n\n  const [nombre, setText] = useState(\"\");\n  uploadFile.on(error => {//TODO:Handle Error\n  }, () => {\n    getDownloadURL(uploadFile.snapshot.ref).then(async downloadURL => {\n      await updateDoc(doc(db, \"Productos\"), {\n        nombre: nombre,\n        //precio: precio,\n        imagen: urlImDesc\n      });\n    });\n  }); //target.nombre.value='';\n  //  target.precio.value='';\n  //  target.file.value='';\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Navigation, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card card-body\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-center\",\n          children: \"Agregar Productos\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 1\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Nombre: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 1\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"text\",\n              placeholder: \"Ingresa el nombre del producto\",\n              id: \"nombre\",\n              className: \"form-control mt-1\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 5\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 1\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Precio: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 1\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"Ingresa el precio\",\n              id: \"precio\",\n              className: \"form-control mt-1\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 5\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 1\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Agregar Imagen: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 1\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            onChange: event => {\n              setImageUpload(event.target.files[0]);\n            },\n            className: \"form-control\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 1\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary mt-3 form-control\",\n            onClick: uploadFile,\n            children: \" Upload Image\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 1\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 5\n    }, this), imageUrls.map(url => {\n      return /*#__PURE__*/_jsxDEV(\"img\", {\n        src: url\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 8\n      }, this);\n    })]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 5\n  }, this);\n};\n\n_s(MiPerfil, \"oK4NlrcbY3H9cYR6wRIiL5mavqk=\");\n\n_c = MiPerfil;\nexport default MiPerfil;\n/*\n\n <div>\n              <Navigation />\n              <Container> \n              <div className='card card-body'>\n          <h3 className='text-center'>Agregar Productos</h3>\n          <form /*onSubmit={uploadFile} >\n          <label>Nombre: </label>\n          <div className='form-group'>\n              <input type=\"text\" placeholder='Ingresa el nombre del producto' id='nombre' className='form-control mt-1' required />\n          </div>\n\n          <label>Precio: </label>\n          <div className='form-group'>\n              <input type=\"text\" placeholder='Ingresa el precio' id='precio' className='form-control mt-1' required />\n          </div>\n        <label>Agregar Imagen: </label>\n       \n        <input  type=\"file\" onChange={(event) => { setImageUpload(event.target.files[0]);  }}  className='form-control'/>\n        <button  className='btn btn-primary mt-3 form-control' onClick={uploadFile}> Guardar</button>\n        \n      </form>\n  </div>\n     \n          </Container>\n         {imageUrls.map((url) => {\n          return <img src={url} />;\n        })}\n          \n          </div>\n\n\n          <div className=\"App\">\n      <input\n        type=\"file\"\n        onChange={(event) => {\n          setImageUpload(event.target.files[0]);\n        }}\n      />\n      <button onClick={uploadFile}> Upload Image</button>\n      {imageUrls.map((url) => {\n        return <img src={url} />;\n      })}\n    </div>\n\n*/\n\nvar _c;\n\n$RefreshReg$(_c, \"MiPerfil\");","map":{"version":3,"names":["React","Container","Navigation","db","v4","uuid","collection","query","where","getDocs","serverTimestamp","updateDoc","Timestamp","arrayUnion","arrayRemove","getDoc","doc","onSnapshot","ChatConext","useState","useEffect","ref","uploadBytes","getDownloadURL","listAll","list","storage","useContext","Form","MiPerfil","imageUpload","setImageUpload","imageUrls","setImageUrls","data","imagesListRef","uploadFile","imageRef","name","then","snapshot","url","prev","response","items","forEach","item","urlImDesc","nombre","setText","on","error","downloadURL","imagen","event","target","files","map"],"sources":["C:/Users/User/Downloads/PWII/PWII-PROYECTOFINAL/PWII-PROYECTOFINAL/PWII/pia-pwii/src/pages/MiPerfil.jsx"],"sourcesContent":["import React from 'react';\nimport Container from 'react-bootstrap/Container';\nimport Navigation from '../Components/NavigationLayout';\nimport './Test.css'\nimport { db } from \"../firebase\";\nimport { v4 as uuid } from \"uuid\";\nimport { collection, query, where, getDocs, serverTimestamp, updateDoc, Timestamp } from \"firebase/firestore\";\nimport { arrayUnion, arrayRemove, getDoc } from \"firebase/firestore\";\nimport { doc, onSnapshot } from \"firebase/firestore\";\nimport { ChatConext } from \"../Context/ChatContext\";\nimport { useState, useEffect } from \"react\";\nimport {ref, uploadBytes, getDownloadURL, listAll, list} from \"firebase/storage\";\nimport { storage } from \"../firebase\";\nimport { v4 } from \"uuid\";\nimport  { useContext} from \"react\";\nimport { Form } from 'react-bootstrap';\nconst MiPerfil = () => {\n  const [imageUpload, setImageUpload] = useState(null);\n  const [imageUrls, setImageUrls] = useState([]);\n  const { data } = useContext(ChatConext);\n\n  const imagesListRef = ref(storage, \"images/\");\n  const uploadFile = () => {\n    if (imageUpload == null) return;\n    const imageRef = ref(storage, `images/${imageUpload.name + v4()}`);\n    uploadBytes(imageRef, imageUpload).then((snapshot) => {\n      getDownloadURL(snapshot.ref).then((url) => {\n        setImageUrls((prev) => [...prev, url]);\n      });\n    });\n  };\n\n  useEffect(() => {\n    listAll(imagesListRef).then((response) => {\n      response.items.forEach((item) => {\n        getDownloadURL(item).then((url) => {\n          setImageUrls((prev) => [...prev, url]);\n        });\n      });\n    });\n  }, []);\n\n  let urlImDesc;\n//const nombre = e.target.nombre.value;\n    //const precio = target.precio.value;\n \n\n    const [nombre, setText] = useState(\"\");\n  uploadFile.on(\n    (error) => {\n        //TODO:Handle Error\n    },\n    () => {\n        getDownloadURL(uploadFile.snapshot.ref).then(async (downloadURL) => {\n          await updateDoc(doc(db, \"Productos\"), {\n            nombre: nombre,\n            //precio: precio,\n            imagen: urlImDesc\n        })\n        });\n    }\n\n   \n);\n\n //target.nombre.value='';\n  //  target.precio.value='';\n  //  target.file.value='';\n\n\n\n\n\n\n  return (\n\n    <div>\n    <Navigation />\n    <Container> \n    <div className='card card-body'>\n<h3 className='text-center'>Agregar Productos</h3>\n<form  >\n<label>Nombre: </label>\n<div className='form-group'>\n    <Form.Control type=\"text\" placeholder='Ingresa el nombre del producto' id='nombre' className='form-control mt-1'  required />\n</div>\n\n<label>Precio: </label>\n<div className='form-group'>\n    <input type=\"text\" placeholder='Ingresa el precio' id='precio' className='form-control mt-1' required />\n</div>\n<label>Agregar Imagen: </label>\n\n\n\n<input\n        type=\"file\"\n        onChange={(event) => {\n          setImageUpload(event.target.files[0]);\n        }}\n        className='form-control' />\n      <button  className='btn btn-primary mt-3 form-control'onClick={uploadFile}> Upload Image</button>\n\n\n\n   \n</form>\n</div>\n\n</Container>\n{imageUrls.map((url) => {\nreturn <img src={url} />;\n})}\n\n</div>\n\n\n    \n  );\n}\n\nexport default MiPerfil;\n/*\n\n <div>\n              <Navigation />\n              <Container> \n              <div className='card card-body'>\n          <h3 className='text-center'>Agregar Productos</h3>\n          <form /*onSubmit={uploadFile} >\n          <label>Nombre: </label>\n          <div className='form-group'>\n              <input type=\"text\" placeholder='Ingresa el nombre del producto' id='nombre' className='form-control mt-1' required />\n          </div>\n\n          <label>Precio: </label>\n          <div className='form-group'>\n              <input type=\"text\" placeholder='Ingresa el precio' id='precio' className='form-control mt-1' required />\n          </div>\n        <label>Agregar Imagen: </label>\n       \n        <input  type=\"file\" onChange={(event) => { setImageUpload(event.target.files[0]);  }}  className='form-control'/>\n        <button  className='btn btn-primary mt-3 form-control' onClick={uploadFile}> Guardar</button>\n        \n      </form>\n  </div>\n     \n          </Container>\n         {imageUrls.map((url) => {\n          return <img src={url} />;\n        })}\n          \n          </div>\n\n\n          <div className=\"App\">\n      <input\n        type=\"file\"\n        onChange={(event) => {\n          setImageUpload(event.target.files[0]);\n        }}\n      />\n      <button onClick={uploadFile}> Upload Image</button>\n      {imageUrls.map((url) => {\n        return <img src={url} />;\n      })}\n    </div>\n\n*/ "],"mappings":"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"},"metadata":{},"sourceType":"module"}