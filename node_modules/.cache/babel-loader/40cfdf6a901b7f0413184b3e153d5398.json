{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Downloads\\\\POI_Tims\\\\POI-PROYECTOFINAL\\\\POI-PROYECTOFINAL\\\\src\\\\pages\\\\MiPerfil.jsx\";\nimport React from 'react';\nimport Container from 'react-bootstrap/Container';\nimport Navigation from '../Components/NavigationLayout';\nimport './Test.css';\nimport { getFirestore, collection, updateDoc } from \"firebase/firestore\";\nimport { getStorage, ref, uploadBytes, getDownloadURL } from \"firebase/storage\";\nimport appFirebase from \"../firebase\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst db = getFirestore(app);\nconst storage = getStorage(app);\n\nconst MiPerfil = () => {\n  let urlImDesc;\n\n  const guardarProductos = async e => {\n    e.preventDefault();\n    const nombre = e.target.nombre.value;\n    const precio = e.target.precio.value;\n    const newProduct = {\n      nombre: nombre,\n      precio: precio,\n      imagen: urlImDesc\n    };\n\n    try {\n      await updateDoc(collection(db, 'productos'), { ...newProduct\n      });\n    } catch (error) {\n      console.log(error);\n    }\n\n    e.target.nombre.value = '';\n    e.target.precio.value = '';\n    e.target.file.value = '';\n  };\n\n  const fileHandler = async e => {\n    const archivoI = e.target.files[0];\n    const refArchivo = ref(storage, `documentos/${archivoI.name}`);\n    await uploadBytes(refArchivo, archivoI);\n    urlImDesc = await getDownloadURL(refArchivo);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Navigation, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 15\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card card-body\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-center\",\n          children: \"Agregar Productos\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: guardarProductos,\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Nombre: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"Ingresa el nombre del producto\",\n              id: \"nombre\",\n              className: \"form-control mt-1\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Precio: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"Ingresa el precio\",\n              id: \"precio\",\n              className: \"form-control mt-1\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Agregar Imagen: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            placeholder: \"Agregar imagen\",\n            id: \"file\",\n            className: \"form-control\",\n            onChange: fileHandler\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary mt-3 form-control\",\n            children: \"Guardar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 15\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 15\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 13\n  }, this);\n};\n\n_c = MiPerfil;\nexport default MiPerfil;\n\nvar _c;\n\n$RefreshReg$(_c, \"MiPerfil\");","map":{"version":3,"names":["React","Container","Navigation","getFirestore","collection","updateDoc","getStorage","ref","uploadBytes","getDownloadURL","appFirebase","db","app","storage","MiPerfil","urlImDesc","guardarProductos","e","preventDefault","nombre","target","value","precio","newProduct","imagen","error","console","log","file","fileHandler","archivoI","files","refArchivo","name"],"sources":["C:/Users/User/Downloads/POI_Tims/POI-PROYECTOFINAL/POI-PROYECTOFINAL/src/pages/MiPerfil.jsx"],"sourcesContent":["import React from 'react';\nimport Container from 'react-bootstrap/Container';\nimport Navigation from '../Components/NavigationLayout';\nimport './Test.css'\n\nimport { getFirestore, collection, updateDoc } from \"firebase/firestore\";\nimport { getStorage, ref, uploadBytes, getDownloadURL } from \"firebase/storage\";\nimport appFirebase from \"../firebase\"\n\nconst db= getFirestore(app)\nconst storage = getStorage(app)\n\nconst MiPerfil = () => {\n  \n  let urlImDesc;\n\n    const guardarProductos = async(e)=>{\n      e.preventDefault()\n      const nombre = e.target.nombre.value;\n      const precio = e.target.precio.value;\n\n      const newProduct = {\n        nombre: nombre,\n        precio: precio,\n        imagen: urlImDesc\n      }\n\n      try{\n        await updateDoc(collection(db, 'productos'), {\n            ...newProduct\n        })\n      } catch (error){\n         console.log(error);\n      }  \n\n      e.target.nombre.value='';\n      e.target.precio.value='';\n      e.target.file.value='';\n  \n    }\n\n    const fileHandler = async(e)=>{\n      const archivoI = e.target.files[0];\n      const refArchivo = ref(storage, `documentos/${archivoI.name}`)\n      await uploadBytes(refArchivo, archivoI)\n\n      urlImDesc = await getDownloadURL(refArchivo)\n    }\n    \n    \n\n   \n\n\n\n        return  (\n          \n            <div>\n              <Navigation />\n              <Container> \n              <div className='card card-body'>\n          <h3 className='text-center'>Agregar Productos</h3>\n          <form onSubmit={guardarProductos}>\n            <label>Nombre: </label>\n              <div className='form-group'>\n                  <input type=\"text\" placeholder='Ingresa el nombre del producto' id='nombre' className='form-control mt-1' required />\n              </div>\n\n              <label>Precio: </label>\n              <div className='form-group'>\n                  <input type=\"text\" placeholder='Ingresa el precio' id='precio' className='form-control mt-1' required />\n              </div>\n            <label>Agregar Imagen: </label>\n            <input type=\"file\" placeholder='Agregar imagen' id='file' className='form-control' onChange={fileHandler} />\n\n            <button className='btn btn-primary mt-3 form-control'>Guardar</button>\n          </form>\n      </div>\n              </Container>\n              </div>\n        \n              )\n            \n      \n    \n\n}\n\nexport default MiPerfil;"],"mappings":"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"},"metadata":{},"sourceType":"module"}