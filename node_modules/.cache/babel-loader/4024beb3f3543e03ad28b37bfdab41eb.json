{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Downloads\\\\POI_Tims\\\\POI-PROYECTOFINAL\\\\POI-PROYECTOFINAL\\\\src\\\\Components\\\\MessageT.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useEffect, useRef } from \"react\";\nimport { AuthConext } from \"../Context/AuthContext\";\nimport { ChatConext } from \"../Context/ChatContext\";\nimport \"../stilos.scss\";\nimport CryptoJS from 'crypto-js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Message = _ref => {\n  _s();\n\n  var _message$date;\n\n  let {\n    message\n  } = _ref;\n  const {\n    currentUser\n  } = useContext(AuthConext);\n  const {\n    data\n  } = useContext(ChatConext);\n  const ref = useRef();\n  useEffect(() => {\n    var _ref$current;\n\n    (_ref$current = ref.current) === null || _ref$current === void 0 ? void 0 : _ref$current.scrollIntoView({\n      behavior: \"smooth\"\n    });\n  }, [message]);\n\n  const descifrar = texto => {\n    var bytes = CryptoJS.AES.decrypt(texto, \"poi\");\n    var textoDescifrado = bytes.toString(CryptoJS.enc.Latin1);\n\n    if (textoDescifrado) {\n      return textoDescifrado;\n    } else {\n      return texto;\n    }\n  };\n\n  const date = new Date(((_message$date = message.date) === null || _message$date === void 0 ? void 0 : _message$date.seconds) * 1000);\n  const options = {\n    month: 'long',\n    day: 'numeric'\n  };\n  let h = date.getHours();\n  let m = date.getMinutes();\n  let time = h + \":\" + m;\n  const newDate = date.toLocaleDateString('en-US', options);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: ref,\n      className: `messageT ${message.senderId === currentUser.uid && \"owner\"}`,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"messageInfoT\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"usuario\",\n          children: message.displayName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          src: message.senderId === currentUser.uid ? currentUser.photoURL : data.user.photoURL,\n          alt: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"messageContentT\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"vacio\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: message.text\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 9\n        }, this), message.img && /*#__PURE__*/_jsxDEV(\"img\", {\n          src: message.img,\n          alt: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"fecha\",\n          children: [`${newDate} - ${time}`, \" hrs\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 8\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Message, \"9uELNj1C6SlzVSDaQLsQuENKLwo=\");\n\n_c = Message;\nexport default Message;\n\nvar _c;\n\n$RefreshReg$(_c, \"Message\");","map":{"version":3,"names":["React","useContext","useEffect","useRef","AuthConext","ChatConext","CryptoJS","Message","message","currentUser","data","ref","current","scrollIntoView","behavior","descifrar","texto","bytes","AES","decrypt","textoDescifrado","toString","enc","Latin1","date","Date","seconds","options","month","day","h","getHours","m","getMinutes","time","newDate","toLocaleDateString","senderId","uid","displayName","photoURL","user","text","img"],"sources":["C:/Users/User/Downloads/POI_Tims/POI-PROYECTOFINAL/POI-PROYECTOFINAL/src/Components/MessageT.jsx"],"sourcesContent":["import React, { useContext, useEffect, useRef } from \"react\";\nimport { AuthConext } from \"../Context/AuthContext\";\nimport { ChatConext } from \"../Context/ChatContext\";\nimport \"../stilos.scss\";\nimport CryptoJS from 'crypto-js';\n\n\n\nconst Message = ({ message }) => {\n  const { currentUser } = useContext(AuthConext);\n  const { data } = useContext(ChatConext);\n\n  const ref = useRef();\n\n  useEffect(() => {\n    ref.current?.scrollIntoView({ behavior: \"smooth\" });\n  }, [message]);\n\n  const descifrar = (texto) => {\n    var bytes = CryptoJS.AES.decrypt(texto, \"poi\");\n    var textoDescifrado = bytes.toString(CryptoJS.enc.Latin1);\n\n    if (textoDescifrado) {\n        return textoDescifrado;\n    } else {\n        return texto;\n    }\n  }\n\n  const date = new Date(message.date?.seconds*1000);\nconst options = { \n    month: 'long', \n    day: 'numeric' \n};\nlet h = date.getHours();\nlet m = date.getMinutes();\nlet time = h + \":\" + m;\n\nconst newDate = date.toLocaleDateString('en-US', options);\n\n\n\n\n \nreturn (\n    <div>\n    \n    <div ref={ref}  className={`messageT ${message.senderId === currentUser.uid && \"owner\"}`}>\n   \n      <div className=\"messageInfoT\">\n      <span className=\"usuario\">{message.displayName}</span>\n        <img\n          src={\n            message.senderId === currentUser.uid\n              ? currentUser.photoURL\n              : data.user.photoURL\n          }\n          alt=\"\"\n        />\n        \n      </div>\n      <div className=\"messageContentT\" >\n        \n        <div className=\"vacio\"></div>\n        <p>{message.text}</p>\n        {message.img && <img src={message.img} alt=\"\" />}\n       <div className=\"fecha\">{`${newDate} - ${time}`} hrs</div>\n        \n        \n      </div>\n      \n    </div>\n   </div>\n  );\n};\n\nexport default Message;\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}