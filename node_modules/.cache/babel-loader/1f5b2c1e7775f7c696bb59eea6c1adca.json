{"ast":null,"code":"var _jsxFileName = \"A:\\\\Users\\\\cesar\\\\Downloads\\\\POI_Tims\\\\POI-PROYECTOFINAL\\\\POI-PROYECTOFINAL\\\\src\\\\Components\\\\MessageT.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useEffect, useRef } from \"react\";\nimport { AuthConext } from \"../Context/AuthContext\";\nimport { ChatConext } from \"../Context/ChatContext\";\nimport \"../stilos.scss\";\nimport CryptoJS from 'crypto-js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Message = _ref => {\n  _s();\n\n  let {\n    message\n  } = _ref;\n  const {\n    currentUser\n  } = useContext(AuthConext);\n  const {\n    data\n  } = useContext(ChatConext);\n  const ref = useRef();\n  useEffect(() => {\n    var _ref$current;\n\n    (_ref$current = ref.current) === null || _ref$current === void 0 ? void 0 : _ref$current.scrollIntoView({\n      behavior: \"smooth\"\n    });\n  }, [message]);\n\n  const descifrar = texto => {\n    var bytes = CryptoJS.AES.decrypt(texto, \"poi\");\n    var textoDescifrado = bytes.toString(CryptoJS.enc.UTF16);\n\n    if (textoDescifrado) {\n      return textoDescifrado;\n    } else {\n      return texto;\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: ref,\n    className: `messageT ${message.senderId === currentUser.uid && \"owner\"}`,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"messageInfoT\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: message.senderId === currentUser.uid ? currentUser.photoURL : data.user.photoURL,\n        alt: \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"just now\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"messageContentT\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: message.text && descifrar(message.text)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this), message.img && /*#__PURE__*/_jsxDEV(\"img\", {\n        src: message.img,\n        alt: \"\",\n        width: \"100px\",\n        className: \"fluid\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 25\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Message, \"9uELNj1C6SlzVSDaQLsQuENKLwo=\");\n\n_c = Message;\nexport default Message;\n\nvar _c;\n\n$RefreshReg$(_c, \"Message\");","map":{"version":3,"names":["React","useContext","useEffect","useRef","AuthConext","ChatConext","CryptoJS","Message","message","currentUser","data","ref","current","scrollIntoView","behavior","descifrar","texto","bytes","AES","decrypt","textoDescifrado","toString","enc","UTF16","senderId","uid","photoURL","user","text","img"],"sources":["A:/Users/cesar/Downloads/POI_Tims/POI-PROYECTOFINAL/POI-PROYECTOFINAL/src/Components/MessageT.jsx"],"sourcesContent":["import React, { useContext, useEffect, useRef } from \"react\";\nimport { AuthConext } from \"../Context/AuthContext\";\nimport { ChatConext } from \"../Context/ChatContext\";\nimport \"../stilos.scss\";\nimport CryptoJS from 'crypto-js';\n\nconst Message = ({ message }) => {\n  const { currentUser } = useContext(AuthConext);\n  const { data } = useContext(ChatConext);\n\n  const ref = useRef();\n\n  useEffect(() => {\n    ref.current?.scrollIntoView({ behavior: \"smooth\" });\n  }, [message]);\n\n  const descifrar = (texto) => {\n    var bytes = CryptoJS.AES.decrypt(texto, \"poi\");\n    var textoDescifrado = bytes.toString(CryptoJS.enc.UTF16);\n\n    if (textoDescifrado) {\n        return textoDescifrado;\n    } else {\n        return texto;\n    }\n  }\n\n  return (\n    <div\n      ref={ref}\n      className={`messageT ${message.senderId === currentUser.uid && \"owner\"}`}\n    >\n      <div className=\"messageInfoT\">\n        <img\n          src={\n            message.senderId === currentUser.uid\n              ? currentUser.photoURL\n              : data.user.photoURL\n          }\n          alt=\"\"\n        />\n        <span>just now</span>\n      </div>\n      <div className=\"messageContentT\">\n        <p>{message.text && descifrar(message.text)}</p>\n       \n        {message.img && <img src={message.img} alt=\"\" width=\"100px\" className='fluid' />}\n      </div>\n    </div>\n  );\n};\n\nexport default Message;\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,SAA5B,EAAuCC,MAAvC,QAAqD,OAArD;AACA,SAASC,UAAT,QAA2B,wBAA3B;AACA,SAASC,UAAT,QAA2B,wBAA3B;AACA,OAAO,gBAAP;AACA,OAAOC,QAAP,MAAqB,WAArB;;;AAEA,MAAMC,OAAO,GAAG,QAAiB;EAAA;;EAAA,IAAhB;IAAEC;EAAF,CAAgB;EAC/B,MAAM;IAAEC;EAAF,IAAkBR,UAAU,CAACG,UAAD,CAAlC;EACA,MAAM;IAAEM;EAAF,IAAWT,UAAU,CAACI,UAAD,CAA3B;EAEA,MAAMM,GAAG,GAAGR,MAAM,EAAlB;EAEAD,SAAS,CAAC,MAAM;IAAA;;IACd,gBAAAS,GAAG,CAACC,OAAJ,8DAAaC,cAAb,CAA4B;MAAEC,QAAQ,EAAE;IAAZ,CAA5B;EACD,CAFQ,EAEN,CAACN,OAAD,CAFM,CAAT;;EAIA,MAAMO,SAAS,GAAIC,KAAD,IAAW;IAC3B,IAAIC,KAAK,GAAGX,QAAQ,CAACY,GAAT,CAAaC,OAAb,CAAqBH,KAArB,EAA4B,KAA5B,CAAZ;IACA,IAAII,eAAe,GAAGH,KAAK,CAACI,QAAN,CAAef,QAAQ,CAACgB,GAAT,CAAaC,KAA5B,CAAtB;;IAEA,IAAIH,eAAJ,EAAqB;MACjB,OAAOA,eAAP;IACH,CAFD,MAEO;MACH,OAAOJ,KAAP;IACH;EACF,CATD;;EAWA,oBACE;IACE,GAAG,EAAEL,GADP;IAEE,SAAS,EAAG,YAAWH,OAAO,CAACgB,QAAR,KAAqBf,WAAW,CAACgB,GAAjC,IAAwC,OAAQ,EAFzE;IAAA,wBAIE;MAAK,SAAS,EAAC,cAAf;MAAA,wBACE;QACE,GAAG,EACDjB,OAAO,CAACgB,QAAR,KAAqBf,WAAW,CAACgB,GAAjC,GACIhB,WAAW,CAACiB,QADhB,GAEIhB,IAAI,CAACiB,IAAL,CAAUD,QAJlB;QAME,GAAG,EAAC;MANN;QAAA;QAAA;QAAA;MAAA,QADF,eASE;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QATF;IAAA;MAAA;MAAA;MAAA;IAAA,QAJF,eAeE;MAAK,SAAS,EAAC,iBAAf;MAAA,wBACE;QAAA,UAAIlB,OAAO,CAACoB,IAAR,IAAgBb,SAAS,CAACP,OAAO,CAACoB,IAAT;MAA7B;QAAA;QAAA;QAAA;MAAA,QADF,EAGGpB,OAAO,CAACqB,GAAR,iBAAe;QAAK,GAAG,EAAErB,OAAO,CAACqB,GAAlB;QAAuB,GAAG,EAAC,EAA3B;QAA8B,KAAK,EAAC,OAApC;QAA4C,SAAS,EAAC;MAAtD;QAAA;QAAA;QAAA;MAAA,QAHlB;IAAA;MAAA;MAAA;MAAA;IAAA,QAfF;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAuBD,CA5CD;;GAAMtB,O;;KAAAA,O;AA8CN,eAAeA,OAAf"},"metadata":{},"sourceType":"module"}