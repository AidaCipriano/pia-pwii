{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Downloads\\\\POI_Tims\\\\POI-PROYECTOFINAL\\\\POI-PROYECTOFINAL\\\\src\\\\pages\\\\MiPerfil.jsx\";\nimport React from 'react';\nimport Navigation from '../Components/NavigationLayout';\nimport './Test.css';\nimport { doc, onSnapshot } from \"firebase/firestore\";\nimport { getFirestore, collection, updateDoc } from \"firebase/firestore\";\nimport { getStorage, ref, uploadBytes, getDownloadURL } from \"firebase/storage\";\nimport { async } from '@firebase/util';\nimport { db } from \"../firebase\";\nimport { storage } from '../firebase';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst MiPerfil = () => {\n  let urlImDesc;\n\n  const guardarProductos = async e => {\n    e.preventDefault();\n    const nombre = e.target.nombre.value;\n    const precio = e.target.precio.value;\n    const newProduct = {\n      nombre: nombre,\n      precio: precio,\n      imagen: urlImDesc\n    };\n\n    try {\n      await updateDoc(doc(db, 'productos'), { ...newProduct\n      });\n    } catch (error) {\n      console.log(error);\n    }\n\n    e.target.nombre.value = '';\n    e.target.precio.value = '';\n    e.target.file.value = '';\n  };\n\n  const fileHandler = async e => {\n    const archivoI = e.target.files[0];\n    const refArchivo = ref(storage, `documentos/${archivoI.name}`);\n    await uploadBytes(refArchivo, archivoI);\n    urlImDesc = await getDownloadURL(refArchivo);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Navigation, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 11\n  }, this);\n};\n\n_c = MiPerfil;\nexport default MiPerfil;\n\nvar _c;\n\n$RefreshReg$(_c, \"MiPerfil\");","map":{"version":3,"names":["React","Navigation","doc","onSnapshot","getFirestore","collection","updateDoc","getStorage","ref","uploadBytes","getDownloadURL","async","db","storage","MiPerfil","urlImDesc","guardarProductos","e","preventDefault","nombre","target","value","precio","newProduct","imagen","error","console","log","file","fileHandler","archivoI","files","refArchivo","name"],"sources":["C:/Users/User/Downloads/POI_Tims/POI-PROYECTOFINAL/POI-PROYECTOFINAL/src/pages/MiPerfil.jsx"],"sourcesContent":["import React from 'react';\nimport Navigation from '../Components/NavigationLayout';\nimport './Test.css'\nimport { doc, onSnapshot } from \"firebase/firestore\";\nimport { getFirestore, collection, updateDoc } from \"firebase/firestore\";\nimport { getStorage, ref, uploadBytes, getDownloadURL } from \"firebase/storage\";\nimport { async } from '@firebase/util';\nimport { db } from \"../firebase\";\nimport {storage } from '../firebase';\n\n\nconst MiPerfil = () => {\n  \n  let urlImDesc;\n\n    const guardarProductos = async(e)=>{\n      e.preventDefault()\n      const nombre = e.target.nombre.value;\n      const precio = e.target.precio.value;\n\n      const newProduct = {\n        nombre: nombre,\n        precio: precio,\n        imagen: urlImDesc\n      }\n\n      try{\n        await updateDoc(doc(db, 'productos'), {\n            ...newProduct\n        })\n      } catch (error){\n         console.log(error);\n      }  \n\n      e.target.nombre.value='';\n      e.target.precio.value='';\n      e.target.file.value='';\n  \n    }\n\n    const fileHandler = async(e)=>{\n      const archivoI = e.target.files[0];\n      const refArchivo = ref(storage, `documentos/${archivoI.name}`)\n      await uploadBytes(refArchivo, archivoI)\n\n      urlImDesc = await getDownloadURL(refArchivo)\n    }\n    \n    \n\n   \n\n\n   \n      return  (\n        \n          <div>\n            <Navigation />\n           \n            </div>\n      )\n      \n    \n\n}\n\nexport default MiPerfil;"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,UAAP,MAAuB,gCAAvB;AACA,OAAO,YAAP;AACA,SAASC,GAAT,EAAcC,UAAd,QAAgC,oBAAhC;AACA,SAASC,YAAT,EAAuBC,UAAvB,EAAmCC,SAAnC,QAAoD,oBAApD;AACA,SAASC,UAAT,EAAqBC,GAArB,EAA0BC,WAA1B,EAAuCC,cAAvC,QAA6D,kBAA7D;AACA,SAASC,KAAT,QAAsB,gBAAtB;AACA,SAASC,EAAT,QAAmB,aAAnB;AACA,SAAQC,OAAR,QAAuB,aAAvB;;;AAGA,MAAMC,QAAQ,GAAG,MAAM;EAErB,IAAIC,SAAJ;;EAEE,MAAMC,gBAAgB,GAAG,MAAMC,CAAN,IAAU;IACjCA,CAAC,CAACC,cAAF;IACA,MAAMC,MAAM,GAAGF,CAAC,CAACG,MAAF,CAASD,MAAT,CAAgBE,KAA/B;IACA,MAAMC,MAAM,GAAGL,CAAC,CAACG,MAAF,CAASE,MAAT,CAAgBD,KAA/B;IAEA,MAAME,UAAU,GAAG;MACjBJ,MAAM,EAAEA,MADS;MAEjBG,MAAM,EAAEA,MAFS;MAGjBE,MAAM,EAAET;IAHS,CAAnB;;IAMA,IAAG;MACD,MAAMT,SAAS,CAACJ,GAAG,CAACU,EAAD,EAAK,WAAL,CAAJ,EAAuB,EAClC,GAAGW;MAD+B,CAAvB,CAAf;IAGD,CAJD,CAIE,OAAOE,KAAP,EAAa;MACZC,OAAO,CAACC,GAAR,CAAYF,KAAZ;IACF;;IAEDR,CAAC,CAACG,MAAF,CAASD,MAAT,CAAgBE,KAAhB,GAAsB,EAAtB;IACAJ,CAAC,CAACG,MAAF,CAASE,MAAT,CAAgBD,KAAhB,GAAsB,EAAtB;IACAJ,CAAC,CAACG,MAAF,CAASQ,IAAT,CAAcP,KAAd,GAAoB,EAApB;EAED,CAvBD;;EAyBA,MAAMQ,WAAW,GAAG,MAAMZ,CAAN,IAAU;IAC5B,MAAMa,QAAQ,GAAGb,CAAC,CAACG,MAAF,CAASW,KAAT,CAAe,CAAf,CAAjB;IACA,MAAMC,UAAU,GAAGxB,GAAG,CAACK,OAAD,EAAW,cAAaiB,QAAQ,CAACG,IAAK,EAAtC,CAAtB;IACA,MAAMxB,WAAW,CAACuB,UAAD,EAAaF,QAAb,CAAjB;IAEAf,SAAS,GAAG,MAAML,cAAc,CAACsB,UAAD,CAAhC;EACD,CAND;;EAcE,oBAEI;IAAA,uBACE,QAAC,UAAD;MAAA;MAAA;MAAA;IAAA;EADF;IAAA;IAAA;IAAA;EAAA,QAFJ;AAUL,CArDD;;KAAMlB,Q;AAuDN,eAAeA,QAAf"},"metadata":{},"sourceType":"module"}